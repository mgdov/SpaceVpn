module.exports=[4901,a=>{"use strict";var b=a.i(89056);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],4901)},72261,a=>{"use strict";var b=a.i(50776),c=a.i(89056);function d(){let[a,d]=(0,c.useState)([]);return(0,c.useEffect)(()=>{let a=[];for(let b=0;b<100;b++)a.push({id:b,x:100*Math.random(),y:100*Math.random(),size:Math.random()>.8?2:1,delay:3*Math.random(),type:Math.random()>.7?"cross":"dot"});d(a)},[]),(0,b.jsx)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:a.map(a=>(0,b.jsx)("div",{className:"absolute star",style:{left:`${a.x}%`,top:`${a.y}%`,animationDelay:`${a.delay}s`},children:"cross"===a.type?(0,b.jsx)("div",{className:"text-blue-300 text-opacity-60",style:{fontSize:`${6*a.size}px`},children:"+"}):(0,b.jsx)("div",{className:"bg-cyan-300 rounded-none",style:{width:`${2*a.size}px`,height:`${2*a.size}px`}})},a.id))})}a.s(["PixelStars",()=>d])},19480,a=>{"use strict";let b="/api/v1";function c(a,b){if(!b)return a;let c=new URLSearchParams;Object.entries(b).forEach(([a,b])=>{null!=b&&c.append(a,String(b))});let d=c.toString();return d?`${a}?${d}`:a}function d(a){}function e(a){}async function f(a,c={}){let d="undefined"!=typeof FormData&&c.body instanceof FormData,e=new Headers(c.headers||{});e.has("Accept")||e.set("Accept","application/json");let g=void 0!==c.body&&null!==c.body&&""!==c.body;d||!g||e.has("Content-Type")||e.set("Content-Type","application/json");try{let d=await fetch(function(a){let c=b.endsWith("/")?b.slice(0,-1):b;if(!a||"/"===a)return`${c}/`;let d=a.startsWith("/")?a:`/${a}`;return`${c}${d}`}(a),{...c,headers:e}),f=d.status,g=await d.text(),h=g?function(a){try{return JSON.parse(a)}catch{return a}}(g):void 0;if(!d.ok){if(422===f&&Array.isArray(h?.detail))return{error:h.detail.map(a=>`${a.loc?.join(" → ")||"Field"}: ${a.msg}`).join(", "),status:f};let a=h?.detail||h?.message||(Array.isArray(h?.errors)?h?.errors.join(", "):void 0);return{error:"string"==typeof a?a:`HTTP ${f}`,status:f}}return{data:h,status:f}}catch(a){return{error:a instanceof Error?a.message:"Network error"}}}async function g(a,b){let c=new URLSearchParams;c.append("username",a),c.append("password",b);let e=await f("/auth/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c.toString()});return e.data?.access_token&&d(e.data.access_token),e}async function h(){return f("/auth/oauth-providers")}async function i(){return f("/auth/google")}async function j(){return f("/auth/telegram")}async function k(a){let b=await f("/auth/telegram/callback",{method:"POST",body:JSON.stringify(a)});return b.data?.access_token&&d(b.data.access_token),b}async function l(){let a=await f("/users/me");return a.data&&e(a.data),a}async function m(a){return f(c("/admin/users/",a))}async function n(){return f("/admin/subscriptions/")}async function o(){return f("/tariffs/")}async function p(){return f("/admin/tariffs/")}async function q(a){return f("/admin/tariffs/",{method:"POST",body:JSON.stringify(a)})}async function r(a,b){return f(`/admin/tariffs/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async function s(a){return f(`/admin/tariffs/${a}`,{method:"DELETE"})}async function t(a){return f(`/admin/tariffs/${a}/toggle`,{method:"POST"})}async function u(a){return f("/subscriptions/purchase-free",{method:"POST",body:JSON.stringify(a)})}async function v(){return f("/vpn-clients")}async function w(a){return f(`/vpn-clients/${a}/config`)}async function x(){return f("/vpn-clients/bypass-presets")}async function y(){return f("/admin/vpn/clients/")}async function z(a){return f("/admin/vpn/clients/",{method:"POST",body:JSON.stringify(a)})}async function A(a,b){return f(`/admin/vpn/clients/${a}`,{method:"PUT",body:JSON.stringify(b)})}async function B(a){return f(`/admin/vpn/clients/${a}`,{method:"DELETE"})}async function C(a,b){return f(`/admin/vpn/clients/${a}/extend`,{method:"POST",body:b?JSON.stringify(b):void 0})}async function D(a){return f(`/admin/vpn/clients/${a}/toggle`,{method:"POST"})}async function E(){return f("/public/tariffs")}async function F(a){return f("/public/key/search",{method:"POST",body:JSON.stringify({key_identifier:a})})}async function G(a){return f("/public/key/create",{method:"POST",body:JSON.stringify(a)})}async function H(a){return f("/public/key/renew",{method:"POST",body:JSON.stringify(a)})}async function I(a){return{error:"Требуется авторизация для оплаты"}}async function J(){return f("/admin/finance/stats")}async function K(a){return f(`/admin/finance/chart/${a}`)}async function L(a){return f(c("/admin/finance/payments",a))}a.s(["adminCreateTariff",()=>q,"adminCreateVPNClient",()=>z,"adminDeleteTariff",()=>s,"adminDeleteVPNClient",()=>B,"adminExtendVPNClient",()=>C,"adminListSubscriptions",()=>n,"adminListTariffs",()=>p,"adminListUsers",()=>m,"adminListVPNClients",()=>y,"adminToggleTariff",()=>t,"adminToggleVPNClient",()=>D,"adminUpdateTariff",()=>r,"adminUpdateVPNClient",()=>A,"createKeyPublic",()=>G,"createYookassaPayment",()=>I,"getAdminFinanceChart",()=>K,"getAdminFinanceStats",()=>J,"getAdminPayments",()=>L,"getBypassPresets",()=>x,"getCurrentUserInfo",()=>l,"getGoogleAuthUrl",()=>i,"getOAuthProviders",()=>h,"getPublicTariffs",()=>o,"getPublicTariffsNoAuth",()=>E,"getTelegramAuthInfo",()=>j,"getUserVPNClientConfig",()=>w,"listUserVPNClients",()=>v,"loginUser",()=>g,"purchaseFreeTariff",()=>u,"renewKeyPublic",()=>H,"searchKeyPublic",()=>F,"setAuthToken",()=>d,"setCurrentUser",()=>e,"telegramAuthCallback",()=>k])},6630,a=>{"use strict";let b=(0,a.i(4901).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],6630)},82126,a=>{"use strict";let b=(0,a.i(4901).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],82126)},85722,a=>{"use strict";let b=(0,a.i(4901).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],85722)},61712,a=>{"use strict";var b=a.i(50776),c=a.i(89056),d=a.i(37498),e=a.i(6630),f=a.i(82126),g=a.i(85722),h=a.i(72261),i=a.i(19480);function j(){let a=(0,d.useRouter)(),j=(0,d.useSearchParams)(),[k,l]=(0,c.useState)("loading"),[m,n]=(0,c.useState)("");(0,c.useEffect)(()=>{o()},[]);let o=async()=>{let b=j.get("id"),c=j.get("first_name"),d=j.get("last_name"),e=j.get("username"),f=j.get("photo_url"),g=j.get("auth_date"),h=j.get("hash");if(!b||!h||!g){l("error"),n("Данные авторизации Telegram не найдены");return}try{let j=await (0,i.telegramAuthCallback)({id:parseInt(b),first_name:c||"",last_name:d||void 0,username:e||void 0,photo_url:f||void 0,auth_date:parseInt(g),hash:h});if(j.data?.access_token){let b=await (0,i.getCurrentUserInfo)();b.data&&(0,i.setCurrentUser)(b.data),l("success"),setTimeout(()=>{a.push("/account")},1500)}else l("error"),n(j.error||"Ошибка авторизации через Telegram")}catch(a){l("error"),n("Ошибка подключения")}};return(0,b.jsxs)("div",{className:"min-h-screen bg-background relative flex items-center justify-center px-4",children:[(0,b.jsx)(h.PixelStars,{}),(0,b.jsxs)("div",{className:"w-full max-w-md relative z-10 text-center",children:[(0,b.jsx)("div",{className:"flex items-center justify-center gap-2 mb-8",children:(0,b.jsx)("div",{className:"w-10 h-10 bg-primary flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-background text-sm",children:"S"})})}),"loading"===k&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(e.Loader2,{className:"w-12 h-12 animate-spin text-primary mx-auto"}),(0,b.jsx)("p",{className:"text-foreground",children:"Авторизация через Telegram..."}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Пожалуйста, подождите"})]}),"success"===k&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(f.CheckCircle2,{className:"w-12 h-12 text-green-500 mx-auto"}),(0,b.jsx)("p",{className:"text-foreground",children:"Вход выполнен успешно!"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Перенаправление в личный кабинет..."})]}),"error"===k&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(g.XCircle,{className:"w-12 h-12 text-red-500 mx-auto"}),(0,b.jsx)("p",{className:"text-foreground",children:"Ошибка авторизации"}),(0,b.jsx)("p",{className:"text-red-400 text-sm",children:m}),(0,b.jsx)("button",{onClick:()=>a.push("/login"),className:"mt-4 bg-primary text-primary-foreground px-6 py-2 text-sm hover:bg-primary/80 transition-colors",children:"Вернуться к входу"})]})]})]})}function k(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-background relative overflow-hidden",children:[(0,b.jsx)(h.PixelStars,{}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4 relative z-10",children:[(0,b.jsx)(e.Loader2,{className:"w-12 h-12 animate-spin text-primary"}),(0,b.jsx)("p",{className:"text-foreground",children:"Загрузка..."})]})]}),children:(0,b.jsx)(j,{})})}a.s(["default",()=>k])}];

//# sourceMappingURL=Documents_programming_pixel-space-vpn_32222a96._.js.map