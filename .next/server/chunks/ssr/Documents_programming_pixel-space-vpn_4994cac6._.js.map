{"version":3,"sources":["../../../../../../../Documents/programming/pixel-space-vpn/components/footer.tsx","../../../../../../../Documents/programming/pixel-space-vpn/node_modules/lucide-react/src/icons/search.ts","../../../../../../../Documents/programming/pixel-space-vpn/node_modules/lucide-react/src/icons/clock.ts","../../../../../../../Documents/programming/pixel-space-vpn/node_modules/lucide-react/src/icons/copy.ts","../../../../../../../Documents/programming/pixel-space-vpn/lib/api.ts","../../../../../../../Documents/programming/pixel-space-vpn/lib/api/subscriptions.ts","../../../../../../../Documents/programming/pixel-space-vpn/lib/api/tariffs.ts","../../../../../../../Documents/programming/pixel-space-vpn/lib/api/plans.ts","../../../../../../../Documents/programming/pixel-space-vpn/lib/api/public-api.ts","../../../../../../../Documents/programming/pixel-space-vpn/lib/api/payments.ts","../../../../../../../Documents/programming/pixel-space-vpn/lib/api/vpn-keys.ts","../../../../../../../Documents/programming/pixel-space-vpn/lib/api/admin.ts","../../../../../../../Documents/programming/pixel-space-vpn/lib/api/internal.ts","../../../../../../../Documents/programming/pixel-space-vpn/lib/api/health.ts","../../../../../../../Documents/programming/pixel-space-vpn/node_modules/lucide-react/src/icons/loader-circle.ts","../../../../../../../Documents/programming/pixel-space-vpn/node_modules/lucide-react/src/icons/circle-check.ts","../../../../../../../Documents/programming/pixel-space-vpn/node_modules/lucide-react/src/icons/arrow-left.ts","../../../../../../../Documents/programming/pixel-space-vpn/node_modules/lucide-react/src/icons/circle-alert.ts","../../../../../../../Documents/programming/pixel-space-vpn/app/buy-no-register/extend-key/page.tsx"],"sourcesContent":["import Link from \"next/link\"\n\nexport function Footer() {\n  return (\n    <footer className=\"bg-card border-t border-border mt-12 sm:mt-20\">\n      <div className=\"max-w-7xl mx-auto px-3 sm:px-4 py-8 sm:py-12\">\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8\">\n          {/* Logo & Description */}\n          <div className=\"md:col-span-2\">\n            <div className=\"flex items-center gap-2 mb-4\">\n              <div className=\"w-8 h-8 bg-primary flex items-center justify-center\">\n                <span className=\"text-background text-xs\">S</span>\n              </div>\n              <span className=\"text-primary text-xs\">SPACE VPN</span>\n            </div>\n            <p className=\"text-muted-foreground text-[8px] leading-relaxed max-w-md\">\n              Защитите свою приватность в интернете с помощью нашего VPN сервиса. Быстрое и надежное соединение по всему\n              миру.\n            </p>\n          </div>\n\n          {/* Links */}\n          <div>\n            <h4 className=\"text-foreground text-[10px] mb-4\">Навигация</h4>\n            <nav className=\"flex flex-col gap-2\">\n              <Link href=\"/\" className=\"text-muted-foreground hover:text-primary text-[8px]\">\n                Главная\n              </Link>\n              <Link href=\"/pricing\" className=\"text-muted-foreground hover:text-primary text-[8px]\">\n                Тарифы\n              </Link>\n              <Link href=\"/blog\" className=\"text-muted-foreground hover:text-primary text-[8px]\">\n                Блог\n              </Link>\n              <Link href=\"/faq\" className=\"text-muted-foreground hover:text-primary text-[8px]\">\n                FAQ\n              </Link>\n            </nav>\n          </div>\n\n          {/* Contact */}\n          <div>\n            <h4 className=\"text-foreground text-[10px] mb-4\">Контакты</h4>\n            <div className=\"flex flex-col gap-2 text-[8px] text-muted-foreground\">\n              <span>support@spacevpn.com</span>\n              <span>Telegram: @spacevpn</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"border-t border-border mt-8 pt-8 text-center\">\n          <p className=\"text-muted-foreground text-[8px]\">© 2025 Space VPN. Все права защищены.</p>\n        </div>\n      </div>\n    </footer>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxwYXRoIGQ9Im0yMSAyMS00LjMtNC4zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('Search', [\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n  ['path', { d: 'm21 21-4.3-4.3', key: '1qie3q' }],\n]);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Copy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHg9IjgiIHk9IjgiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNNCAxNmMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDEwYzEuMSAwIDIgLjkgMiAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/copy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Copy = createLucideIcon('Copy', [\n  ['rect', { width: '14', height: '14', x: '8', y: '8', rx: '2', ry: '2', key: '17jyea' }],\n  ['path', { d: 'M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2', key: 'zix9uf' }],\n]);\n\nexport default Copy;\n","/**\n * API Client for SpaceVPN Backend\n *\n * Единая точка входа: реэкспорт из lib/api/* и types/api.\n * Базовый URL и fetch — в client.ts.\n */\n\n// Base URL (для Next.js routes и пр.)\nexport { API_BASE_URL, getAuthToken, setAuthToken, removeAuthToken, fetchAPI, withQuery } from './api/client'\n\n// Types — из единого источника\nexport type {\n  ApiResponse,\n  ApiError,\n  User,\n  TokenResponse,\n  OAuthProvider,\n  OAuthProvidersResponse,\n  GoogleAuthResponse,\n  TelegramAuthInfo,\n  TelegramAuthData,\n  SendVerificationCodeRequest,\n  VerifyCodeRequest,\n  VerifyEmailRequest,\n  ResetPasswordRequest,\n  Subscription,\n  MySubscriptionsResponse,\n  AdminSubscription,\n  PurchaseFreeTariffRequest,\n  PurchaseFreeTariffResponse,\n  ExtendPayload,\n  Plan,\n  ApplyPlanRequest,\n  Tariff,\n  PublicTariff,\n  PublicTariffsResponse,\n  VPNKeyStatus,\n  VPNKeyListResponse,\n  VPNClient,\n  VPNConfig,\n  ExtendKeyRequest,\n  ExtendKeyResponse,\n  CreateVPNClientPayload,\n  RegenerateVPNClientPayload,\n  UpdateVPNClientPayload,\n  BypassPreset,\n  BypassPresetsResponse,\n  HappDeeplinkResponse,\n  CreatePaymentRequest,\n  CreatePaymentResponse,\n  Payment,\n  KeySearchRequest,\n  KeySearchResult,\n  CreateKeyRequest,\n  CreateKeyResult,\n  RenewKeyRequest,\n  RenewKeyResult,\n  KeyByPaymentResponse,\n  AdminVPNClient,\n  AdminFinanceStats,\n  AdminFinanceChartData,\n  AdminFinanceSummary,\n  AdminPayment,\n  AdminPaymentDetail,\n  PaymentListResponse,\n  TransactionQueryParams,\n  AdminCreateSubscriptionPayload,\n  CreateTariffPayload,\n  UpdateTariffPayload,\n  UpdateProfilePayload,\n  PaginationParams,\n  PaymentQueryParams,\n  VPNStatus,\n  HealthResponse,\n  ApiInfoResponse,\n} from '@/types/api'\n\n// Auth\nexport {\n  registerUser,\n  loginUser,\n  logoutUser,\n  isAuthenticated,\n  getOAuthProviders,\n  getGoogleAuthUrl,\n  getTelegramAuthInfo,\n  telegramAuthCallback,\n  sendVerificationCode,\n  verifyCode,\n  verifyEmail,\n  resetPassword,\n} from './api/auth'\n\n// Users\nexport {\n  getCurrentUser,\n  getStoredUser,\n  setCurrentUser,\n  removeCurrentUser,\n  getCurrentUserInfo,\n  updateCurrentUser,\n  getUserVPNStatus,\n} from './api/users'\n\n// Subscriptions\nexport { getMySubscriptions, purchaseFreeTariff } from './api/subscriptions'\n\n// Tariffs\nexport { getPublicTariffs, getPublicTariffById } from './api/tariffs'\n\n// Plans\nexport { getPlans } from './api/plans'\n\n// Public API (без авторизации)\nexport {\n  getPublicTariffs as getPublicTariffsNoAuth,\n  searchKey as searchKeyPublic,\n  createKeyPublic,\n  renewKey as renewKeyPublic,\n  getKeyByPayment,\n  pollKeyByPayment,\n} from './api/public-api'\n\n// Payments\nexport {\n  createPayment,\n  getPaymentStatus,\n  initiatePayment,\n  createYookassaPayment,\n  confirmYookassaPayment,\n} from './api/payments'\nexport type {\n  CreateYookassaPaymentPayload,\n  CreateYookassaPaymentResponse,\n  ConfirmYookassaPaymentResponse,\n} from './api/payments'\n\n// VPN Keys & Clients\nexport {\n  getUserVPNKeys,\n  getVPNKeyStatus,\n  extendVPNKey,\n  getHappDeeplink,\n  getUserVPNClients,\n  getUserVPNClients as listUserVPNClients,\n  getUserVPNClient,\n  updateUserVPNClient,\n  deleteUserVPNClient,\n  getUserVPNClientConfig,\n  regenerateUserVPNClient,\n  syncUserVPNClient,\n  getBypassPresets,\n  createUserVPNClient,\n} from './api/vpn-keys'\n\n// Admin\nexport {\n  adminListUsers,\n  adminGetUser,\n  adminDeleteUser,\n  adminToggleUserActive,\n  adminMakeSuperuser,\n  adminApplyPlan,\n  adminListSubscriptions,\n  adminGetSubscription,\n  adminCreateSubscription,\n  adminDeleteSubscription,\n  adminExtendSubscription,\n  adminToggleSubscription,\n  adminListVPNClients,\n  adminGetVPNClient,\n  adminCreateVPNClient,\n  adminUpdateVPNClient,\n  adminDeleteVPNClient,\n  adminExtendVPNClient,\n  adminToggleVPNClient,\n  adminListTariffs,\n  adminCreateTariff,\n  adminUpdateTariff,\n  adminDeleteTariff,\n  adminToggleTariff,\n  getAdminFinanceStats,\n  getAdminFinanceChart,\n  getAdminPayments,\n  getAdminPaymentDetails,\n  getAdminTransactions,\n  getAdminFinanceSummary,\n} from './api/admin'\n\n// Internal (superuser)\nexport { syncMarzban } from './api/internal'\nexport type { MarzbanSyncResponse } from './api/internal'\n\n// Health\nexport { getHealthStatus, getApiInfo } from './api/health'\n","/**\n * Subscriptions API endpoints\n */\n\nimport { fetchAPI } from './client'\nimport type {\n  ApiResponse,\n  MySubscriptionsResponse,\n  PurchaseFreeTariffRequest,\n  PurchaseFreeTariffResponse,\n} from '@/types/api'\n\n/**\n * Получить мои подписки\n */\nexport async function getMySubscriptions(): Promise<ApiResponse<MySubscriptionsResponse>> {\n  return fetchAPI<MySubscriptionsResponse>('/subscriptions/my')\n}\n\n/**\n * Покупка бесплатного тарифа (создание подписки и VPN ключа)\n */\nexport async function purchaseFreeTariff(\n  data: PurchaseFreeTariffRequest\n): Promise<ApiResponse<PurchaseFreeTariffResponse>> {\n  return fetchAPI<PurchaseFreeTariffResponse>('/subscriptions/purchase-free', {\n    method: 'POST',\n    body: JSON.stringify(data),\n  })\n}\n","/**\n * Tariffs API endpoints (public, authenticated)\n */\n\nimport { fetchAPI } from './client'\nimport type { ApiResponse, Tariff } from '@/types/api'\n\n/**\n * Получить список активных тарифов (для сайта, авторизация не обязательна для публичных)\n */\nexport async function getPublicTariffs(): Promise<ApiResponse<Tariff[]>> {\n  return fetchAPI<Tariff[]>('/tariffs/')\n}\n\n/**\n * Получить тариф по ID\n */\nexport async function getPublicTariffById(id: string | number): Promise<ApiResponse<Tariff>> {\n  return fetchAPI<Tariff>(`/tariffs/${id}`)\n}\n","/**\n * Plans API (simplified tariffs: id, name, days, price)\n */\n\nimport { fetchAPI } from './client'\nimport type { ApiResponse, Plan } from '@/types/api'\n\n/**\n * Получить список планов (активные тарифы в формате id, name, days, price)\n */\nexport async function getPlans(): Promise<ApiResponse<Plan[]>> {\n  return fetchAPI<Plan[]>('/plans')\n}\n","/**\n * Public API endpoints (без авторизации)\n */\n\nimport { fetchAPI } from './client'\nimport type {\n  ApiResponse,\n  PublicTariffsResponse,\n  KeySearchRequest,\n  KeySearchResult,\n  CreateKeyRequest,\n  CreateKeyResult,\n  RenewKeyRequest,\n  RenewKeyResult,\n  KeyByPaymentResponse,\n} from '@/types/api'\n\n/**\n * Получить список активных тарифов (PUBLIC)\n */\nexport async function getPublicTariffs(): Promise<ApiResponse<PublicTariffsResponse>> {\n  return fetchAPI<PublicTariffsResponse>('/public/tariffs')\n}\n\n/**\n * Поиск ключа по идентификатору\n */\nexport async function searchKey(keyIdentifier: string): Promise<ApiResponse<KeySearchResult>> {\n  return fetchAPI<KeySearchResult>('/public/key/search', {\n    method: 'POST',\n    body: JSON.stringify({ key_identifier: keyIdentifier } as KeySearchRequest),\n  })\n}\n\n/**\n * Создать ключ без регистрации\n */\nexport async function createKeyPublic(request: CreateKeyRequest): Promise<ApiResponse<CreateKeyResult>> {\n  return fetchAPI<CreateKeyResult>('/public/key/create', {\n    method: 'POST',\n    body: JSON.stringify(request),\n  })\n}\n\n/**\n * Продлить ключ\n */\nexport async function renewKey(request: RenewKeyRequest): Promise<ApiResponse<RenewKeyResult>> {\n  return fetchAPI<RenewKeyResult>('/public/key/renew', {\n    method: 'POST',\n    body: JSON.stringify(request),\n  })\n}\n\n/**\n * Получить ключ по ID платежа (с polling)\n * Используется после оплаты для получения ключа\n */\nexport async function getKeyByPayment(paymentId: string): Promise<ApiResponse<KeyByPaymentResponse>> {\n  return fetchAPI<KeyByPaymentResponse>(`/public/key/by-payment/${paymentId}`)\n}\n\n/**\n * Polling ключа после оплаты\n * Проверяет статус каждые 2 секунды до 15 раз (30 секунд)\n */\nexport async function pollKeyByPayment(\n  paymentId: string,\n  maxAttempts: number = 15,\n  intervalMs: number = 2000\n): Promise<ApiResponse<KeyByPaymentResponse>> {\n  for (let i = 0; i < maxAttempts; i++) {\n    const response = await getKeyByPayment(paymentId)\n\n    if (response.status === 200 && response.data) {\n      return response\n    }\n\n    if (response.status !== 202) {\n      return response\n    }\n\n    if (i < maxAttempts - 1) {\n      await new Promise(resolve => setTimeout(resolve, intervalMs))\n    }\n  }\n\n  return { error: 'Timeout: не удалось получить ключ после оплаты' }\n}\n","/**\n * Payment API endpoints\n */\n\nimport { fetchAPI, getAuthToken } from './client'\nimport type {\n  ApiResponse,\n  CreatePaymentRequest,\n  CreatePaymentResponse,\n  Payment,\n  Subscription,\n} from '@/types/api'\n\nexport interface CreateYookassaPaymentPayload {\n  tariffId: number\n  plan: string\n  price: number\n  description?: string\n}\n\nexport interface CreateYookassaPaymentResponse {\n  payment_id: number | string\n  confirmation_url?: string | null\n  status?: string\n}\n\nexport interface ConfirmYookassaPaymentResponse {\n  success: boolean\n  plan?: string\n  subscription?: Subscription\n  message?: string\n}\n\n/**\n * Создать платеж\n */\nexport async function createPayment(request: CreatePaymentRequest): Promise<ApiResponse<CreatePaymentResponse>> {\n  return fetchAPI<CreatePaymentResponse>('/payments/create', {\n    method: 'POST',\n    body: JSON.stringify(request),\n  })\n}\n\n/**\n * Получить статус платежа\n */\nexport async function getPaymentStatus(paymentId: string): Promise<ApiResponse<Payment>> {\n  return fetchAPI<Payment>(`/payments/${paymentId}`)\n}\n\n/**\n * YooKassa: создать платёж через backend /payments/create с return_url на account/keys\n */\nexport async function createYookassaPayment(\n  payload: CreateYookassaPaymentPayload\n): Promise<ApiResponse<CreateYookassaPaymentResponse>> {\n  const returnUrl =\n    (typeof window !== 'undefined' ? window.location.origin : '') +\n    `/account/keys?tariff_id=${encodeURIComponent(String(payload.tariffId))}&plan=${encodeURIComponent(payload.plan)}`\n  return createPayment({\n    tariff_id: payload.tariffId,\n    return_url: returnUrl,\n  })\n}\n\n/**\n * YooKassa: подтвердить платёж через Next.js route /api/yookassa/confirm-payment\n */\nexport async function confirmYookassaPayment(\n  paymentId: string\n): Promise<ApiResponse<ConfirmYookassaPaymentResponse>> {\n  const token = getAuthToken()\n  if (!token) {\n    return { error: 'Требуется авторизация для оплаты' }\n  }\n  try {\n    const response = await fetch('/api/yookassa/confirm-payment', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({ paymentId }),\n    })\n    const data = await response.json().catch(() => ({}))\n    if (!response.ok) {\n      return { error: (data as any)?.error || (data as any)?.message || `HTTP ${response.status}` }\n    }\n    return { data }\n  } catch (error) {\n    return { error: error instanceof Error ? error.message : 'Network error' }\n  }\n}\n\n/**\n * YooKassa flow: создать платёж и при наличии confirmation_url перенаправить на него\n */\nexport async function initiatePayment(\n  tariffId: number,\n  returnUrl?: string\n): Promise<ApiResponse<CreatePaymentResponse>> {\n  const response = await createPayment({\n    tariff_id: tariffId,\n    return_url: returnUrl || (typeof window !== 'undefined' ? window.location.origin + '/account/keys' : undefined),\n  })\n  if (response.data?.confirmation_url && typeof window !== 'undefined') {\n    window.location.href = response.data.confirmation_url\n  }\n  return response\n}\n","/**\n * VPN Keys API endpoints\n */\n\nimport { fetchAPI } from './client'\nimport type {\n  ApiResponse,\n  VPNKeyStatus,\n  VPNKeyListResponse,\n  VPNClient,\n  ExtendKeyRequest,\n  ExtendKeyResponse,\n  HappDeeplinkResponse,\n  BypassPresetsResponse,\n  VPNConfig,\n  UpdateVPNClientPayload,\n  RegenerateVPNClientPayload,\n} from '@/types/api'\n\n// ============================================================================\n// VPN Keys (новый endpoint)\n// ============================================================================\n\n/**\n * Получить все VPN ключи текущего пользователя\n */\nexport async function getUserVPNKeys(): Promise<ApiResponse<VPNKeyListResponse>> {\n  return fetchAPI<VPNKeyListResponse>('/vpn-clients/keys')\n}\n\n/**\n * Получить VPN ключ по ID\n */\nexport async function getVPNKeyStatus(keyId: number): Promise<ApiResponse<VPNKeyStatus>> {\n  return fetchAPI<VPNKeyStatus>(`/vpn-clients/keys/${keyId}`)\n}\n\n/**\n * Продлить VPN ключ\n */\nexport async function extendVPNKey(\n  keyId: number,\n  request?: ExtendKeyRequest\n): Promise<ApiResponse<ExtendKeyResponse>> {\n  return fetchAPI<ExtendKeyResponse>(`/vpn-clients/keys/${keyId}/extend`, {\n    method: 'POST',\n    body: request ? JSON.stringify(request) : undefined,\n  })\n}\n\n/**\n * Получить Happ VPN deep link для ключа\n */\nexport async function getHappDeeplink(keyId: number): Promise<ApiResponse<HappDeeplinkResponse>> {\n  return fetchAPI<HappDeeplinkResponse>(`/vpn-clients/keys/${keyId}/happ-link`)\n}\n\n// ============================================================================\n// VPN Clients (старый endpoint)\n// ============================================================================\n\n/**\n * Получить всех VPN клиентов пользователя\n */\nexport async function getUserVPNClients(): Promise<ApiResponse<VPNClient[]>> {\n  return fetchAPI<VPNClient[]>('/vpn-clients')\n}\n\n/**\n * Получить VPN клиента по ID\n */\nexport async function getUserVPNClient(id: string): Promise<ApiResponse<VPNClient>> {\n  return fetchAPI<VPNClient>(`/vpn-clients/${id}`)\n}\n\n/**\n * Обновить VPN клиента\n */\nexport async function updateUserVPNClient(\n  id: string,\n  payload: UpdateVPNClientPayload\n): Promise<ApiResponse<VPNClient>> {\n  return fetchAPI<VPNClient>(`/vpn-clients/${id}`, {\n    method: 'PUT',\n    body: JSON.stringify(payload),\n  })\n}\n\n/**\n * Удалить VPN клиента\n */\nexport async function deleteUserVPNClient(id: string): Promise<ApiResponse<void>> {\n  return fetchAPI<void>(`/vpn-clients/${id}`, {\n    method: 'DELETE',\n  })\n}\n\n/**\n * Получить конфиг VPN клиента\n */\nexport async function getUserVPNClientConfig(id: string): Promise<ApiResponse<VPNConfig>> {\n  return fetchAPI<VPNConfig>(`/vpn-clients/${id}/config`)\n}\n\n/**\n * Регенерировать VPN клиента\n */\nexport async function regenerateUserVPNClient(\n  id: string,\n  payload?: RegenerateVPNClientPayload\n): Promise<ApiResponse<VPNConfig>> {\n  return fetchAPI<VPNConfig>(`/vpn-clients/${id}/regenerate`, {\n    method: 'POST',\n    body: payload ? JSON.stringify(payload) : undefined,\n  })\n}\n\n/**\n * Синхронизировать VPN клиента\n */\nexport async function syncUserVPNClient(id: string): Promise<ApiResponse<VPNClient>> {\n  return fetchAPI<VPNClient>(`/vpn-clients/${id}/sync`, {\n    method: 'POST',\n  })\n}\n\n/**\n * Получить доступные bypass пресеты\n */\nexport async function getBypassPresets(): Promise<ApiResponse<BypassPresetsResponse>> {\n  return fetchAPI<BypassPresetsResponse>('/vpn-clients/bypass-presets')\n}\n","/**\n * Admin API endpoints\n */\n\nimport { fetchAPI, withQuery } from './client'\nimport type {\n  ApiResponse,\n  User,\n  AdminVPNClient,\n  CreateVPNClientPayload,\n  UpdateVPNClientPayload,\n  Tariff,\n  CreateTariffPayload,\n  UpdateTariffPayload,\n  AdminFinanceStats,\n  AdminFinanceChartData,\n  AdminFinanceSummary,\n  AdminPayment,\n  AdminPaymentDetail,\n  AdminSubscription,\n  AdminCreateSubscriptionPayload,\n  ExtendPayload,\n  PaginationParams,\n  PaymentQueryParams,\n  PaymentListResponse,\n  TransactionQueryParams,\n} from '@/types/api'\n\n// ============================================================================\n// Admin Users\n// ============================================================================\n\n/**\n * Получить список пользователей\n */\nexport async function adminListUsers(params?: PaginationParams): Promise<ApiResponse<User[]>> {\n  return fetchAPI<User[]>(withQuery('/admin/users', params as Record<string, any>))\n}\n\n/**\n * Получить пользователя по ID\n */\nexport async function adminGetUser(userId: number): Promise<ApiResponse<User>> {\n  return fetchAPI<User>(`/admin/users/${userId}`)\n}\n\n/**\n * Удалить пользователя\n */\nexport async function adminDeleteUser(userId: number): Promise<ApiResponse<void>> {\n  return fetchAPI<void>(`/admin/users/${userId}`, {\n    method: 'DELETE',\n  })\n}\n\n/**\n * Включить/выключить пользователя (toggle active)\n */\nexport async function adminToggleUserActive(userId: number): Promise<ApiResponse<User>> {\n  return fetchAPI<User>(`/admin/users/${userId}/toggle-active`, {\n    method: 'POST',\n  })\n}\n\n/**\n * Сделать пользователя суперюзером\n */\nexport async function adminMakeSuperuser(userId: number): Promise<ApiResponse<User>> {\n  return fetchAPI<User>(`/admin/users/${userId}/make-superuser`, {\n    method: 'POST',\n  })\n}\n\n/**\n * Применить план (тариф) к пользователю\n */\nexport async function adminApplyPlan(\n  userId: number,\n  planId: number\n): Promise<ApiResponse<User>> {\n  return fetchAPI<User>(`/admin/users/${userId}/apply_plan`, {\n    method: 'POST',\n    body: JSON.stringify({ plan_id: planId }),\n  })\n}\n\n// ============================================================================\n// Admin Subscriptions\n// ============================================================================\n\n/**\n * Список подписок\n */\nexport async function adminListSubscriptions(\n  params?: PaginationParams\n): Promise<ApiResponse<AdminSubscription[]>> {\n  return fetchAPI<AdminSubscription[]>(withQuery('/admin/subscriptions', params as Record<string, any>))\n}\n\n/**\n * Подписка по ID\n */\nexport async function adminGetSubscription(\n  subscriptionId: number\n): Promise<ApiResponse<AdminSubscription>> {\n  return fetchAPI<AdminSubscription>(`/admin/subscriptions/${subscriptionId}`)\n}\n\n/**\n * Создать подписку (user_id, tariff_id — query или body, бэк ожидает query)\n */\nexport async function adminCreateSubscription(\n  payload: AdminCreateSubscriptionPayload\n): Promise<ApiResponse<AdminSubscription>> {\n  return fetchAPI<AdminSubscription>(\n    withQuery('/admin/subscriptions/', payload as Record<string, any>),\n    { method: 'POST' }\n  )\n}\n\n/**\n * Удалить подписку\n */\nexport async function adminDeleteSubscription(\n  subscriptionId: number\n): Promise<ApiResponse<void>> {\n  return fetchAPI<void>(`/admin/subscriptions/${subscriptionId}`, {\n    method: 'DELETE',\n  })\n}\n\n/**\n * Продлить подписку на N дней\n */\nexport async function adminExtendSubscription(\n  subscriptionId: number,\n  days: number = 30\n): Promise<ApiResponse<AdminSubscription>> {\n  return fetchAPI<AdminSubscription>(\n    withQuery(`/admin/subscriptions/${subscriptionId}/extend`, { days }),\n    { method: 'POST' }\n  )\n}\n\n/**\n * Включить/выключить подписку (toggle)\n */\nexport async function adminToggleSubscription(\n  subscriptionId: number\n): Promise<ApiResponse<AdminSubscription>> {\n  return fetchAPI<AdminSubscription>(\n    `/admin/subscriptions/${subscriptionId}/toggle`,\n    { method: 'POST' }\n  )\n}\n\n// ============================================================================\n// Admin VPN Clients\n// ============================================================================\n\n// ============================================================================\n// Admin VPN Clients\n// ============================================================================\n\n/**\n * Получить список VPN клиентов\n */\nexport async function adminListVPNClients(params?: PaginationParams): Promise<ApiResponse<AdminVPNClient[]>> {\n  return fetchAPI<AdminVPNClient[]>(withQuery('/admin/vpn/clients', params as Record<string, any>))\n}\n\n/**\n * Получить VPN клиента по ID\n */\nexport async function adminGetVPNClient(clientId: number): Promise<ApiResponse<AdminVPNClient>> {\n  return fetchAPI<AdminVPNClient>(`/admin/vpn/clients/${clientId}`)\n}\n\n/**\n * Создать VPN клиента\n */\nexport async function adminCreateVPNClient(\n  payload: CreateVPNClientPayload\n): Promise<ApiResponse<AdminVPNClient>> {\n  return fetchAPI<AdminVPNClient>('/admin/vpn/clients', {\n    method: 'POST',\n    body: JSON.stringify(payload),\n  })\n}\n\n/**\n * Обновить VPN клиента\n */\nexport async function adminUpdateVPNClient(\n  id: number,\n  payload: UpdateVPNClientPayload\n): Promise<ApiResponse<AdminVPNClient>> {\n  return fetchAPI<AdminVPNClient>(`/admin/vpn/clients/${id}`, {\n    method: 'PUT',\n    body: JSON.stringify(payload),\n  })\n}\n\n/**\n * Удалить VPN клиента\n */\nexport async function adminDeleteVPNClient(id: number): Promise<ApiResponse<void>> {\n  return fetchAPI<void>(`/admin/vpn/clients/${id}`, {\n    method: 'DELETE',\n  })\n}\n\n/**\n * Продлить VPN клиента (days или expires_at)\n */\nexport async function adminExtendVPNClient(\n  clientId: number,\n  payload?: ExtendPayload\n): Promise<ApiResponse<AdminVPNClient>> {\n  return fetchAPI<AdminVPNClient>(`/admin/vpn/clients/${clientId}/extend`, {\n    method: 'POST',\n    body: payload ? JSON.stringify(payload) : undefined,\n  })\n}\n\n/**\n * Включить/выключить VPN клиента (toggle)\n */\nexport async function adminToggleVPNClient(\n  clientId: number\n): Promise<ApiResponse<AdminVPNClient>> {\n  return fetchAPI<AdminVPNClient>(`/admin/vpn/clients/${clientId}/toggle`, {\n    method: 'POST',\n  })\n}\n\n// ============================================================================\n// Admin Tariffs\n// ============================================================================\n\n/**\n * Получить список тарифов\n */\nexport async function adminListTariffs(params?: PaginationParams): Promise<ApiResponse<Tariff[]>> {\n  return fetchAPI<Tariff[]>(withQuery('/admin/tariffs', params as Record<string, any>))\n}\n\n/**\n * Создать тариф\n */\nexport async function adminCreateTariff(payload: CreateTariffPayload): Promise<ApiResponse<Tariff>> {\n  return fetchAPI<Tariff>('/admin/tariffs', {\n    method: 'POST',\n    body: JSON.stringify(payload),\n  })\n}\n\n/**\n * Обновить тариф\n */\nexport async function adminUpdateTariff(id: number, payload: UpdateTariffPayload): Promise<ApiResponse<Tariff>> {\n  return fetchAPI<Tariff>(`/admin/tariffs/${id}`, {\n    method: 'PATCH',\n    body: JSON.stringify(payload),\n  })\n}\n\n/**\n * Удалить тариф\n */\nexport async function adminDeleteTariff(id: number): Promise<ApiResponse<void>> {\n  return fetchAPI<void>(`/admin/tariffs/${id}`, {\n    method: 'DELETE',\n  })\n}\n\n/**\n * Включить/выключить тариф (toggle)\n */\nexport async function adminToggleTariff(id: number): Promise<ApiResponse<Tariff>> {\n  return fetchAPI<Tariff>(`/admin/tariffs/${id}/toggle`, {\n    method: 'POST',\n  })\n}\n\n// ============================================================================\n// Admin Finance\n// ============================================================================\n\n/**\n * Получить финансовую статистику\n */\nexport async function getAdminFinanceStats(): Promise<ApiResponse<AdminFinanceStats>> {\n  return fetchAPI<AdminFinanceStats>('/admin/finance/stats')\n}\n\n/**\n * Получить данные для графика\n */\nexport async function getAdminFinanceChart(\n  period: '7days' | '30days' | '12months'\n): Promise<ApiResponse<AdminFinanceChartData>> {\n  return fetchAPI<AdminFinanceChartData>(`/admin/finance/chart/${period}`)\n}\n\n/**\n * Получить историю платежей\n */\nexport async function getAdminPayments(params?: PaymentQueryParams): Promise<ApiResponse<AdminPayment[]>> {\n  return fetchAPI<AdminPayment[]>(withQuery('/admin/finance/payments', params as Record<string, any>))\n}\n\n/**\n * Детали платежа (с user, tariff)\n */\nexport async function getAdminPaymentDetails(\n  paymentId: number\n): Promise<ApiResponse<AdminPaymentDetail>> {\n  return fetchAPI<AdminPaymentDetail>(`/admin/finance/payments/${paymentId}`)\n}\n\n/**\n * Транзакции с фильтрами (status, method, start_date, end_date)\n */\nexport async function getAdminTransactions(\n  params?: TransactionQueryParams\n): Promise<ApiResponse<PaymentListResponse>> {\n  return fetchAPI<PaymentListResponse>(\n    withQuery('/admin/finance/transactions', params as Record<string, any>)\n  )\n}\n\n/**\n * Сводка по финансам (total_revenue, top_tariffs, recent_transactions_24h и т.д.)\n */\nexport async function getAdminFinanceSummary(): Promise<ApiResponse<AdminFinanceSummary>> {\n  return fetchAPI<AdminFinanceSummary>('/admin/finance/summary')\n}\n","/**\n * Internal API endpoints (superuser: Marzban sync, etc.)\n */\n\nimport { fetchAPI } from './client'\nimport type { ApiResponse } from '@/types/api'\n\nexport interface MarzbanSyncResponse {\n  total: number\n  synced: number\n  orphaned: number\n  errors: number\n  details?: Array<{\n    client_id: number\n    username: string\n    status: string\n    error?: string\n  }>\n}\n\n/**\n * Синхронизировать все VPN клиенты с Marzban (требуется superuser)\n */\nexport async function syncMarzban(): Promise<ApiResponse<MarzbanSyncResponse>> {\n  return fetchAPI<MarzbanSyncResponse>('/internal/marzban/sync', {\n    method: 'POST',\n  })\n}\n","/**\n * Health & meta API endpoints\n */\n\nimport { fetchAPI } from './client'\nimport type { ApiResponse, HealthResponse, ApiInfoResponse } from '@/types/api'\n\nexport async function getHealthStatus(): Promise<ApiResponse<HealthResponse>> {\n  return fetchAPI<HealthResponse>('/health')\n}\n\nexport async function getApiInfo(): Promise<ApiResponse<ApiInfoResponse>> {\n  return fetchAPI<ApiInfoResponse>('/')\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default LoaderCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('CircleCheck', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n]);\n\nexport default CircleCheck;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('CircleAlert', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n]);\n\nexport default CircleAlert;\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport Link from \"next/link\"\nimport { Header } from \"@/components/header\"\nimport { Footer } from \"@/components/footer\"\nimport { PixelStars } from \"@/components/pixel-stars\"\nimport { ArrowLeft, Loader2, Search, CheckCircle2, Clock, AlertCircle, Copy } from \"lucide-react\"\nimport {\n    searchKeyPublic,\n    renewKeyPublic,\n    getPublicTariffsNoAuth,\n    type KeySearchResult,\n    type PublicTariff,\n    type RenewKeyResult,\n} from \"@/lib/api\"\n\nexport default function ExtendKeyPage() {\n    const [step, setStep] = useState<'search' | 'select-tariff' | 'success'>('search')\n    const [keyIdentifier, setKeyIdentifier] = useState(\"\")\n    const [searchResult, setSearchResult] = useState<KeySearchResult | null>(null)\n    const [tariffs, setTariffs] = useState<PublicTariff[]>([])\n    const [renewResult, setRenewResult] = useState<RenewKeyResult | null>(null)\n\n    const [searching, setSearching] = useState(false)\n    const [loadingTariffs, setLoadingTariffs] = useState(false)\n    const [renewing, setRenewing] = useState(false)\n    const [error, setError] = useState(\"\")\n    const [copied, setCopied] = useState(false)\n\n    const handleSearch = async () => {\n        if (!keyIdentifier.trim()) {\n            setError(\"Введите идентификатор ключа\")\n            return\n        }\n\n        setSearching(true)\n        setError(\"\")\n        setSearchResult(null)\n\n        const response = await searchKeyPublic(keyIdentifier.trim())\n\n        if (response.data?.found) {\n            setSearchResult(response.data)\n            // Load tariffs for renewal\n            await loadTariffs()\n            setStep('select-tariff')\n        } else if (response.data && !response.data.found) {\n            setError(\"Ключ не найден. Проверьте идентификатор и попробуйте снова.\")\n        } else {\n            setError(response.error || \"Ошибка поиска\")\n        }\n\n        setSearching(false)\n    }\n\n    const loadTariffs = async () => {\n        setLoadingTariffs(true)\n        const response = await getPublicTariffsNoAuth()\n        if (response.data?.tariffs) {\n            setTariffs(response.data.tariffs)\n        }\n        setLoadingTariffs(false)\n    }\n\n    const handleRenew = async (tariffId: number) => {\n        setRenewing(true)\n        setError(\"\")\n\n        const response = await renewKeyPublic({\n            key_identifier: keyIdentifier,\n            tariff_id: tariffId,\n        })\n\n        if (response.data?.success) {\n            setRenewResult(response.data)\n            setStep('success')\n        } else {\n            setError(response.error || \"Ошибка продления\")\n        }\n\n        setRenewing(false)\n    }\n\n    const handleCopy = async (text: string) => {\n        await navigator.clipboard.writeText(text)\n        setCopied(true)\n        setTimeout(() => setCopied(false), 2000)\n    }\n\n    const formatDate = (dateStr: string) => {\n        return new Date(dateStr).toLocaleDateString('ru-RU', {\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n        })\n    }\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n        if (e.key === 'Enter') {\n            handleSearch()\n        }\n    }\n\n    // Success screen\n    if (step === 'success' && renewResult) {\n        return (\n            <div className=\"min-h-screen bg-background relative\">\n                <PixelStars />\n                <Header />\n                <main className=\"relative z-10 px-4 pt-24 pb-20\">\n                    <div className=\"max-w-2xl mx-auto\">\n                        <div className=\"bg-card border-2 border-green-500 p-8 space-y-6\">\n                            <div className=\"text-center\">\n                                <CheckCircle2 className=\"w-16 h-16 text-green-500 mx-auto mb-4\" />\n                                <h1 className=\"text-2xl font-bold text-foreground mb-2\">\n                                    Ключ продлён!\n                                </h1>\n                                <p className=\"text-muted-foreground\">{renewResult.message}</p>\n                            </div>\n\n                            <div className=\"bg-primary/10 border border-primary p-4 text-center\">\n                                <p className=\"text-sm text-muted-foreground mb-1\">Ваш ключ:</p>\n                                <p className=\"text-3xl font-mono font-bold text-primary\">{renewResult.key_id}</p>\n                                <p className=\"text-sm text-muted-foreground mt-2\">\n                                    Новая дата истечения: {formatDate(renewResult.new_expires_at)}\n                                </p>\n                            </div>\n\n                            {renewResult.subscription_url && (\n                                <div className=\"space-y-2\">\n                                    <p className=\"text-sm text-muted-foreground\">VLESS ссылка:</p>\n                                    <div className=\"relative\">\n                                        <code className=\"block bg-muted p-4 text-xs break-all rounded\">\n                                            {renewResult.subscription_url}\n                                        </code>\n                                        <button\n                                            onClick={() => handleCopy(renewResult.subscription_url)}\n                                            className=\"absolute top-2 right-2 p-2 bg-primary hover:bg-primary/90 text-primary-foreground rounded\"\n                                        >\n                                            {copied ? <CheckCircle2 size={16} /> : <Copy size={16} />}\n                                        </button>\n                                    </div>\n                                </div>\n                            )}\n\n                            <div className=\"flex flex-col gap-3\">\n                                <Link\n                                    href=\"/\"\n                                    className=\"block text-center bg-primary text-primary-foreground py-3 font-semibold hover:bg-primary/90\"\n                                >\n                                    На главную\n                                </Link>\n                                <button\n                                    onClick={() => {\n                                        setStep('search')\n                                        setKeyIdentifier(\"\")\n                                        setSearchResult(null)\n                                        setRenewResult(null)\n                                    }}\n                                    className=\"text-muted-foreground hover:text-primary text-sm\"\n                                >\n                                    Продлить другой ключ\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </main>\n                <Footer />\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"min-h-screen bg-background relative\">\n            <PixelStars />\n            <Header />\n            <main className=\"relative z-10 px-4 pt-24 pb-20\">\n                <div className=\"max-w-2xl mx-auto\">\n                    {/* Back Button */}\n                    <Link\n                        href=\"/buy-no-register\"\n                        className=\"inline-flex items-center gap-2 text-muted-foreground hover:text-primary text-sm mb-8\"\n                    >\n                        <ArrowLeft size={16} />\n                        Назад\n                    </Link>\n\n                    {/* Title */}\n                    <div className=\"text-center mb-8\">\n                        <h1 className=\"text-3xl md:text-4xl font-bold text-foreground mb-4\">\n                            Продлить ключ\n                        </h1>\n                        <p className=\"text-muted-foreground\">\n                            Введите идентификатор ключа или VLESS ссылку\n                        </p>\n                    </div>\n\n                    {/* Error */}\n                    {error && (\n                        <div className=\"bg-red-500/10 border border-red-500 p-4 mb-6 flex items-center gap-3\">\n                            <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0\" />\n                            <p className=\"text-red-400 text-sm\">{error}</p>\n                        </div>\n                    )}\n\n                    {/* Step 1: Search */}\n                    {step === 'search' && (\n                        <div className=\"bg-card border-2 border-border p-6 space-y-6\">\n                            <div>\n                                <label className=\"block text-sm text-foreground mb-2\">\n                                    Идентификатор ключа\n                                </label>\n                                <div className=\"flex gap-3\">\n                                    <input\n                                        type=\"text\"\n                                        value={keyIdentifier}\n                                        onChange={(e) => setKeyIdentifier(e.target.value)}\n                                        onKeyDown={handleKeyDown}\n                                        placeholder=\"TJWMW или vless://...\"\n                                        className=\"flex-1 bg-background border border-border px-4 py-3 text-foreground placeholder:text-muted-foreground focus:outline-none focus:border-primary\"\n                                    />\n                                    <button\n                                        onClick={handleSearch}\n                                        disabled={searching}\n                                        className=\"bg-primary text-primary-foreground px-6 py-3 font-semibold hover:bg-primary/90 disabled:opacity-50 flex items-center gap-2\"\n                                    >\n                                        {searching ? (\n                                            <Loader2 size={18} className=\"animate-spin\" />\n                                        ) : (\n                                            <Search size={18} />\n                                        )}\n                                        Найти\n                                    </button>\n                                </div>\n                                <p className=\"text-muted-foreground text-xs mt-2\">\n                                    Введите 5-буквенный код ключа (например TJWMW) или полную VLESS ссылку\n                                </p>\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Step 2: Select Tariff */}\n                    {step === 'select-tariff' && searchResult && (\n                        <div className=\"space-y-6\">\n                            {/* Key Info */}\n                            <div className={`bg-card border-2 p-6 ${searchResult.is_expired ? 'border-red-500' : 'border-green-500'}`}>\n                                <div className=\"flex items-center justify-between mb-4\">\n                                    <div>\n                                        <p className=\"text-sm text-muted-foreground\">Найден ключ:</p>\n                                        <p className=\"text-2xl font-mono font-bold text-primary\">{searchResult.key_id}</p>\n                                    </div>\n                                    <span className={`px-3 py-1 text-xs font-semibold ${searchResult.is_expired\n                                            ? 'bg-red-500/20 text-red-500 border border-red-500'\n                                            : 'bg-green-500/20 text-green-500 border border-green-500'\n                                        }`}>\n                                        {searchResult.is_expired ? 'Истёк' : 'Активен'}\n                                    </span>\n                                </div>\n\n                                {searchResult.expires_at && (\n                                    <div className=\"flex items-center gap-2 text-muted-foreground text-sm\">\n                                        <Clock size={14} />\n                                        <span>\n                                            {searchResult.is_expired ? 'Истёк: ' : 'Истекает: '}\n                                            {formatDate(searchResult.expires_at)}\n                                        </span>\n                                        {searchResult.time_remaining && !searchResult.is_expired && (\n                                            <span className=\"text-primary\">({searchResult.time_remaining})</span>\n                                        )}\n                                    </div>\n                                )}\n                            </div>\n\n                            {/* Select Tariff */}\n                            <div>\n                                <h2 className=\"text-lg font-semibold text-foreground mb-4\">\n                                    Выберите тариф для продления:\n                                </h2>\n\n                                {loadingTariffs ? (\n                                    <div className=\"text-center py-8\">\n                                        <Loader2 className=\"w-6 h-6 animate-spin text-primary mx-auto\" />\n                                    </div>\n                                ) : (\n                                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                                        {tariffs.map(tariff => (\n                                            <button\n                                                key={tariff.id}\n                                                onClick={() => handleRenew(tariff.id)}\n                                                disabled={renewing || tariff.price > 0}\n                                                className=\"p-4 border-2 border-border hover:border-primary text-left transition-all disabled:opacity-50\"\n                                            >\n                                                <div className=\"flex justify-between items-center\">\n                                                    <p className=\"text-sm text-foreground font-semibold\">+{tariff.duration_days} дней</p>\n                                                    <span className=\"font-bold text-primary\">{tariff.price} ₽</span>\n                                                </div>\n                                            </button>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n\n                            {/* Back to search */}\n                            <button\n                                onClick={() => {\n                                    setStep('search')\n                                    setSearchResult(null)\n                                }}\n                                className=\"text-muted-foreground hover:text-primary text-sm\"\n                            >\n                                ← Искать другой ключ\n                            </button>\n                        </div>\n                    )}\n                </div>\n            </main>\n            <Footer />\n        </div>\n    )\n}\n"],"names":[],"mappings":"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","ignoreList":[1,2,3,14,15,16,17]}