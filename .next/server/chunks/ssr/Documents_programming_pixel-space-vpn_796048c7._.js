module.exports=[13355,(a,b,c)=>{"use strict";b.exports=a.r(11803).vendored["react-ssr"].ReactServerDOMTurbopackClient},4901,a=>{"use strict";var b=a.i(89056);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],4901)},72261,a=>{"use strict";var b=a.i(50776),c=a.i(89056);function d(){let[a,d]=(0,c.useState)([]);return(0,c.useEffect)(()=>{let a=[];for(let b=0;b<100;b++)a.push({id:b,x:100*Math.random(),y:100*Math.random(),size:Math.random()>.8?2:1,delay:3*Math.random(),type:Math.random()>.7?"cross":"dot"});d(a)},[]),(0,b.jsx)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:a.map(a=>(0,b.jsx)("div",{className:"absolute star",style:{left:`${a.x}%`,top:`${a.y}%`,animationDelay:`${a.delay}s`},children:"cross"===a.type?(0,b.jsx)("div",{className:"text-blue-300 text-opacity-60",style:{fontSize:`${6*a.size}px`},children:"+"}):(0,b.jsx)("div",{className:"bg-cyan-300 rounded-none",style:{width:`${2*a.size}px`,height:`${2*a.size}px`}})},a.id))})}a.s(["PixelStars",()=>d])},19480,a=>{"use strict";let b="/api/v1";function c(a,b){if(!b)return a;let c=new URLSearchParams;Object.entries(b).forEach(([a,b])=>{null!=b&&c.append(a,String(b))});let d=c.toString();return d?`${a}?${d}`:a}function d(a){}function e(a){}async function f(a,c={}){let d="undefined"!=typeof FormData&&c.body instanceof FormData,e=new Headers(c.headers||{});e.has("Accept")||e.set("Accept","application/json");let g=void 0!==c.body&&null!==c.body&&""!==c.body;d||!g||e.has("Content-Type")||e.set("Content-Type","application/json");try{let d=await fetch(function(a){let c=b.endsWith("/")?b.slice(0,-1):b;if(!a||"/"===a)return`${c}/`;let d=a.startsWith("/")?a:`/${a}`;return`${c}${d}`}(a),{...c,headers:e}),f=d.status,g=await d.text(),h=g?function(a){try{return JSON.parse(a)}catch{return a}}(g):void 0;if(!d.ok){if(422===f&&Array.isArray(h?.detail))return{error:h.detail.map(a=>`${a.loc?.join(" → ")||"Field"}: ${a.msg}`).join(", "),status:f};let a=h?.detail||h?.message||(Array.isArray(h?.errors)?h?.errors.join(", "):void 0);return{error:"string"==typeof a?a:`HTTP ${f}`,status:f}}return{data:h,status:f}}catch(a){return{error:a instanceof Error?a.message:"Network error"}}}async function g(a,b){let c=new URLSearchParams;c.append("username",a),c.append("password",b);let e=await f("/auth/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c.toString()});return e.data?.access_token&&d(e.data.access_token),e}async function h(){return f("/auth/oauth-providers")}async function i(){return f("/auth/google")}async function j(){return f("/auth/telegram")}async function k(a){let b=await f("/auth/telegram/callback",{method:"POST",body:JSON.stringify(a)});return b.data?.access_token&&d(b.data.access_token),b}async function l(){let a=await f("/users/me");return a.data&&e(a.data),a}async function m(a){return f(c("/admin/users/",a))}async function n(){return f("/admin/subscriptions/")}async function o(){return f("/tariffs/")}async function p(){return f("/admin/tariffs/")}async function q(a){return f("/admin/tariffs/",{method:"POST",body:JSON.stringify(a)})}async function r(a,b){return f(`/admin/tariffs/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async function s(a){return f(`/admin/tariffs/${a}`,{method:"DELETE"})}async function t(a){return f(`/admin/tariffs/${a}/toggle`,{method:"POST"})}async function u(a){return f("/subscriptions/purchase-free",{method:"POST",body:JSON.stringify(a)})}async function v(){return f("/vpn-clients")}async function w(a){return f(`/vpn-clients/${a}/config`)}async function x(){return f("/vpn-clients/bypass-presets")}async function y(){return f("/admin/vpn/clients/")}async function z(a){return f("/admin/vpn/clients/",{method:"POST",body:JSON.stringify(a)})}async function A(a,b){return f(`/admin/vpn/clients/${a}`,{method:"PUT",body:JSON.stringify(b)})}async function B(a){return f(`/admin/vpn/clients/${a}`,{method:"DELETE"})}async function C(a,b){return f(`/admin/vpn/clients/${a}/extend`,{method:"POST",body:b?JSON.stringify(b):void 0})}async function D(a){return f(`/admin/vpn/clients/${a}/toggle`,{method:"POST"})}async function E(){return f("/public/tariffs")}async function F(a){return f("/public/key/search",{method:"POST",body:JSON.stringify({key_identifier:a})})}async function G(a){return f("/public/key/create",{method:"POST",body:JSON.stringify(a)})}async function H(a){return f("/public/key/renew",{method:"POST",body:JSON.stringify(a)})}async function I(){return f("/admin/finance/stats")}async function J(a){return f(`/admin/finance/chart/${a}`)}async function K(a){return f(c("/admin/finance/payments",a))}a.s(["adminCreateTariff",()=>q,"adminCreateVPNClient",()=>z,"adminDeleteTariff",()=>s,"adminDeleteVPNClient",()=>B,"adminExtendVPNClient",()=>C,"adminListSubscriptions",()=>n,"adminListTariffs",()=>p,"adminListUsers",()=>m,"adminListVPNClients",()=>y,"adminToggleTariff",()=>t,"adminToggleVPNClient",()=>D,"adminUpdateTariff",()=>r,"adminUpdateVPNClient",()=>A,"createKeyPublic",()=>G,"getAdminFinanceChart",()=>J,"getAdminFinanceStats",()=>I,"getAdminPayments",()=>K,"getBypassPresets",()=>x,"getCurrentUserInfo",()=>l,"getGoogleAuthUrl",()=>i,"getOAuthProviders",()=>h,"getPublicTariffs",()=>o,"getPublicTariffsNoAuth",()=>E,"getTelegramAuthInfo",()=>j,"getUserVPNClientConfig",()=>w,"listUserVPNClients",()=>v,"loginUser",()=>g,"purchaseFreeTariff",()=>u,"renewKeyPublic",()=>H,"searchKeyPublic",()=>F,"setAuthToken",()=>d,"setCurrentUser",()=>e,"telegramAuthCallback",()=>k])},6630,a=>{"use strict";let b=(0,a.i(4901).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],6630)},80518,96509,a=>{"use strict";var b=a.i(4901);let c=(0,b.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>c],80518);let d=(0,b.default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>d],96509)},43076,a=>{"use strict";var b=a.i(50776),c=a.i(89056),d=a.i(95111),e=a.i(37498),f=a.i(80518),g=a.i(96509),h=a.i(6630),i=a.i(72261),j=a.i(78225),k=a.i(19480);function l(){let[a,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)([]),{login:y}=(0,j.useAuth)(),z=(0,e.useRouter)();(0,c.useEffect)(()=>{A()},[]);let A=async()=>{let a=await (0,k.getOAuthProviders)();a.data?.providers&&x(a.data.providers)},B=async a=>{a.preventDefault(),r(""),t(!0);try{let a=await y(m,o);a.success?z.push("/account"):r(a.error||"Ошибка входа")}catch(a){r("Ошибка сети. Проверьте подключение к интернету.")}finally{t(!1)}},C=async()=>{v("google"),r("");try{let a=await (0,k.getGoogleAuthUrl)();a.data?.auth_url?(sessionStorage.setItem("oauth_state",a.data.state),window.location.href=a.data.auth_url):r(a.error||"Google авторизация недоступна")}catch(a){r("Не удалось подключиться к Google")}finally{v(null)}},D=async()=>{v("telegram"),r("");try{let a=await (0,k.getTelegramAuthInfo)();if(a.data?.bot_username){let b=a.data.bot_username,c=encodeURIComponent(window.location.origin+"/auth/telegram/callback"),d=`https://oauth.telegram.org/auth?bot_id=${b}&origin=${window.location.origin}&request_access=write&return_to=${c}`,e=window.screenX+(window.outerWidth-550)/2,f=window.screenY+(window.outerHeight-470)/2;window.open(d,"telegram_auth",`width=550,height=470,left=${e},top=${f}`)}else r(a.error||"Telegram авторизация недоступна")}catch(a){r("Не удалось подключиться к Telegram")}finally{v(null)}},E=w.some(a=>"google"===a.id&&a.enabled),F=w.some(a=>"telegram"===a.id&&a.enabled);return(0,b.jsxs)("div",{className:"min-h-screen bg-background relative flex items-center justify-center px-4",children:[(0,b.jsx)(i.PixelStars,{}),(0,b.jsx)(d.default,{href:"/",className:"absolute top-4 left-4 text-muted-foreground hover:text-primary text-[10px] z-20",children:"← Назад"}),(0,b.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"flex items-center justify-center gap-2 mb-4",children:(0,b.jsx)("div",{className:"w-10 h-10 bg-primary flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-background text-sm",children:"S"})})}),(0,b.jsx)("h1",{className:"text-foreground text-sm",children:"SPACE VPN"})]}),q&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/50 text-red-500 text-[10px]",children:q}),(0,b.jsxs)("div",{className:"mb-4 p-3 bg-primary/10 border border-primary/50 text-primary text-[10px]",children:[(0,b.jsx)("p",{className:"font-semibold mb-1",children:"Тестовый доступ:"}),(0,b.jsxs)("p",{children:["Логин: ",(0,b.jsx)("span",{className:"font-mono",children:"test"})]}),(0,b.jsxs)("p",{children:["Пароль: ",(0,b.jsx)("span",{className:"font-mono",children:"test123"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,b.jsxs)("button",{onClick:C,disabled:null!==u||!E,className:"flex-1 bg-card border border-border py-3 flex items-center justify-center gap-2 hover:border-primary transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["google"===u?(0,b.jsx)(h.Loader2,{className:"w-5 h-5 animate-spin"}):(0,b.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,b.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,b.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,b.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,b.jsx)("span",{className:"text-foreground text-[10px]",children:"Google"})]}),(0,b.jsxs)("button",{onClick:D,disabled:null!==u||!F,className:"flex-1 bg-card border border-border py-3 flex items-center justify-center gap-2 hover:border-primary transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["telegram"===u?(0,b.jsx)(h.Loader2,{className:"w-5 h-5 animate-spin"}):(0,b.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"#0088cc",children:(0,b.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.12.02-1.96 1.25-5.54 3.69-.52.36-1 .53-1.42.52-.47-.01-1.37-.26-2.03-.48-.82-.27-1.47-.42-1.42-.88.03-.24.37-.49 1.02-.74 3.98-1.73 6.64-2.87 7.97-3.43 3.79-1.6 4.58-1.88 5.1-1.89.11 0 .37.03.54.17.14.12.18.28.2.45-.01.06.01.24 0 .38z"})}),(0,b.jsx)("span",{className:"text-foreground text-[10px]",children:"Telegram"})]})]}),(0,b.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-foreground text-[10px] mb-2",children:"Логин или E-mail"}),(0,b.jsx)("input",{type:"text",value:m,onChange:a=>n(a.target.value),placeholder:"Введите логин или email",required:!0,disabled:s,className:"w-full bg-card border border-border px-4 py-3 text-foreground text-[10px] placeholder:text-muted-foreground focus:outline-none focus:border-primary disabled:opacity-50"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"text-foreground text-[10px]",children:"Пароль"}),(0,b.jsx)(d.default,{href:"/forgot-password",className:"text-muted-foreground hover:text-primary text-[10px]",children:"Забыли?"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:a?"text":"password",value:o,onChange:a=>p(a.target.value),placeholder:"Введите пароль",required:!0,disabled:s,className:"w-full bg-card border border-border px-4 py-3 text-foreground text-[10px] placeholder:text-muted-foreground focus:outline-none focus:border-primary pr-12 disabled:opacity-50"}),(0,b.jsx)("button",{type:"button",onClick:()=>l(!a),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",disabled:s,children:a?(0,b.jsx)(g.EyeOff,{size:18}):(0,b.jsx)(f.Eye,{size:18})})]})]}),(0,b.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground py-3 text-[10px] hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Loader2,{className:"w-4 h-4 animate-spin"}),"Вход..."]}):"Войти"})]}),(0,b.jsx)(d.default,{href:"/register",className:"block w-full mt-4 bg-card border border-border py-3 text-center text-foreground text-[10px] hover:border-primary transition-colors",children:"Создать аккаунт"})]})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=Documents_programming_pixel-space-vpn_796048c7._.js.map