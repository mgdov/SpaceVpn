module.exports=[4901,a=>{"use strict";var b=a.i(89056);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],4901)},72261,a=>{"use strict";var b=a.i(50776),c=a.i(89056);function d(){let[a,d]=(0,c.useState)([]);return(0,c.useEffect)(()=>{let a=[];for(let b=0;b<100;b++)a.push({id:b,x:100*Math.random(),y:100*Math.random(),size:Math.random()>.8?2:1,delay:3*Math.random(),type:Math.random()>.7?"cross":"dot"});d(a)},[]),(0,b.jsx)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:a.map(a=>(0,b.jsx)("div",{className:"absolute star",style:{left:`${a.x}%`,top:`${a.y}%`,animationDelay:`${a.delay}s`},children:"cross"===a.type?(0,b.jsx)("div",{className:"text-blue-300 text-opacity-60",style:{fontSize:`${6*a.size}px`},children:"+"}):(0,b.jsx)("div",{className:"bg-cyan-300 rounded-none",style:{width:`${2*a.size}px`,height:`${2*a.size}px`}})},a.id))})}a.s(["PixelStars",()=>d])},51763,16591,40550,69647,41890,37627,62707,a=>{"use strict";var b=a.i(79731);async function c(a){return(0,b.fetchAPI)("/subscriptions/purchase-free",{method:"POST",body:JSON.stringify(a)})}async function d(){return(0,b.fetchAPI)("/tariffs/")}async function e(){return(0,b.fetchAPI)("/public/tariffs")}async function f(a){return(0,b.fetchAPI)("/public/key/search",{method:"POST",body:JSON.stringify({key_identifier:a})})}async function g(a){return(0,b.fetchAPI)("/public/key/create",{method:"POST",body:JSON.stringify(a)})}async function h(a){return(0,b.fetchAPI)("/public/key/renew",{method:"POST",body:JSON.stringify(a)})}async function i(a){return(0,b.fetchAPI)(`/public/key/by-payment/${a}`)}async function j(a,b=15,c=2e3){for(let d=0;d<b;d++){let e=await i(a);if(200===e.status&&e.data||202!==e.status)return e;d<b-1&&await new Promise(a=>setTimeout(a,c))}return{error:"Timeout: не удалось получить ключ после оплаты"}}async function k(a){return(0,b.fetchAPI)("/payments/create",{method:"POST",body:JSON.stringify(a)})}async function l(a){let b=`/account/keys?tariff_id=${encodeURIComponent(String(a.tariffId))}&plan=${encodeURIComponent(a.plan)}`;return k({tariff_id:a.tariffId,return_url:b})}async function m(a,b){let c=await k({tariff_id:a,return_url:b||void 0});return c.data?.confirmation_url,c}async function n(){return(0,b.fetchAPI)("/vpn-clients")}async function o(a){return(0,b.fetchAPI)(`/vpn-clients/${a}/config`)}async function p(){return(0,b.fetchAPI)("/vpn-clients/bypass-presets")}async function q(a){return(0,b.fetchAPI)((0,b.withQuery)("/admin/users",a))}async function r(a){return(0,b.fetchAPI)(`/admin/users/${a}`,{method:"DELETE"})}async function s(a){return(0,b.fetchAPI)(`/admin/users/${a}/toggle-active`,{method:"POST"})}async function t(a){return(0,b.fetchAPI)((0,b.withQuery)("/admin/subscriptions",a))}async function u(a){return(0,b.fetchAPI)((0,b.withQuery)("/admin/vpn/clients",a))}async function v(a){return(0,b.fetchAPI)("/admin/vpn/clients",{method:"POST",body:JSON.stringify(a)})}async function w(a,c){return(0,b.fetchAPI)(`/admin/vpn/clients/${a}`,{method:"PUT",body:JSON.stringify(c)})}async function x(a){return(0,b.fetchAPI)(`/admin/vpn/clients/${a}`,{method:"DELETE"})}async function y(a,c){return(0,b.fetchAPI)(`/admin/vpn/clients/${a}/extend`,{method:"POST",body:c?JSON.stringify(c):void 0})}async function z(a){return(0,b.fetchAPI)(`/admin/vpn/clients/${a}/toggle`,{method:"POST"})}async function A(a){return(0,b.fetchAPI)((0,b.withQuery)("/admin/tariffs",a))}async function B(a){return(0,b.fetchAPI)("/admin/tariffs",{method:"POST",body:JSON.stringify(a)})}async function C(a,c){return(0,b.fetchAPI)(`/admin/tariffs/${a}`,{method:"PATCH",body:JSON.stringify(c)})}async function D(a){return(0,b.fetchAPI)(`/admin/tariffs/${a}`,{method:"DELETE"})}async function E(a){return(0,b.fetchAPI)(`/admin/tariffs/${a}/toggle`,{method:"POST"})}async function F(){return(0,b.fetchAPI)("/admin/finance/stats")}async function G(a){return(0,b.fetchAPI)(`/admin/finance/chart/${a}`)}async function H(a){return(0,b.fetchAPI)((0,b.withQuery)("/admin/finance/payments",a))}a.i(67511),a.i(40084),a.s(["purchaseFreeTariff",()=>c],16591),a.s(["getPublicTariffs",()=>d],40550),a.s(["createKeyPublic",()=>g,"getPublicTariffs",()=>e,"pollKeyByPayment",()=>j,"renewKey",()=>h,"searchKey",()=>f],69647),a.s(["createYookassaPayment",()=>l,"initiatePayment",()=>m],41890),a.s(["getBypassPresets",()=>p,"getUserVPNClientConfig",()=>o,"getUserVPNClients",()=>n],37627),a.s(["adminCreateTariff",()=>B,"adminCreateVPNClient",()=>v,"adminDeleteTariff",()=>D,"adminDeleteUser",()=>r,"adminDeleteVPNClient",()=>x,"adminExtendVPNClient",()=>y,"adminListSubscriptions",()=>t,"adminListTariffs",()=>A,"adminListUsers",()=>q,"adminListVPNClients",()=>u,"adminToggleTariff",()=>E,"adminToggleUserActive",()=>s,"adminToggleVPNClient",()=>z,"adminUpdateTariff",()=>C,"adminUpdateVPNClient",()=>w,"getAdminFinanceChart",()=>G,"getAdminFinanceStats",()=>F,"getAdminPayments",()=>H],62707),a.s([],51763)},6630,a=>{"use strict";let b=(0,a.i(4901).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],6630)},82126,a=>{"use strict";let b=(0,a.i(4901).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],82126)},85722,a=>{"use strict";let b=(0,a.i(4901).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],85722)},61712,a=>{"use strict";var b=a.i(50776),c=a.i(89056),d=a.i(37498),e=a.i(6630),f=a.i(82126),g=a.i(85722),h=a.i(72261);a.i(51763);var i=a.i(67511),j=a.i(40084);function k(){let a=(0,d.useRouter)(),k=(0,d.useSearchParams)(),[l,m]=(0,c.useState)("loading"),[n,o]=(0,c.useState)("");(0,c.useEffect)(()=>{p()},[]);let p=async()=>{let b=k.get("id"),c=k.get("first_name"),d=k.get("last_name"),e=k.get("username"),f=k.get("photo_url"),g=k.get("auth_date"),h=k.get("hash");if(!b||!h||!g){m("error"),o("Данные авторизации Telegram не найдены");return}try{let k=await (0,i.telegramAuthCallback)({id:parseInt(b),first_name:c||"",last_name:d||void 0,username:e||void 0,photo_url:f||void 0,auth_date:parseInt(g),hash:h});if(k.data?.access_token){let b=await (0,j.getCurrentUserInfo)();b.data&&(0,j.setCurrentUser)(b.data),m("success"),setTimeout(()=>{a.push("/account")},1500)}else m("error"),o(k.error||"Ошибка авторизации через Telegram")}catch(a){m("error"),o("Ошибка подключения")}};return(0,b.jsxs)("div",{className:"min-h-screen bg-background relative flex items-center justify-center px-4",children:[(0,b.jsx)(h.PixelStars,{}),(0,b.jsxs)("div",{className:"w-full max-w-md relative z-10 text-center",children:[(0,b.jsx)("div",{className:"flex items-center justify-center gap-2 mb-8",children:(0,b.jsx)("div",{className:"w-10 h-10 bg-primary flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-background text-sm",children:"S"})})}),"loading"===l&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(e.Loader2,{className:"w-12 h-12 animate-spin text-primary mx-auto"}),(0,b.jsx)("p",{className:"text-foreground",children:"Авторизация через Telegram..."}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Пожалуйста, подождите"})]}),"success"===l&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(f.CheckCircle2,{className:"w-12 h-12 text-green-500 mx-auto"}),(0,b.jsx)("p",{className:"text-foreground",children:"Вход выполнен успешно!"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Перенаправление в личный кабинет..."})]}),"error"===l&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(g.XCircle,{className:"w-12 h-12 text-red-500 mx-auto"}),(0,b.jsx)("p",{className:"text-foreground",children:"Ошибка авторизации"}),(0,b.jsx)("p",{className:"text-red-400 text-sm",children:n}),(0,b.jsx)("button",{onClick:()=>a.push("/login"),className:"mt-4 bg-primary text-primary-foreground px-6 py-2 text-sm hover:bg-primary/80 transition-colors",children:"Вернуться к входу"})]})]})]})}function l(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-background relative overflow-hidden",children:[(0,b.jsx)(h.PixelStars,{}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4 relative z-10",children:[(0,b.jsx)(e.Loader2,{className:"w-12 h-12 animate-spin text-primary"}),(0,b.jsx)("p",{className:"text-foreground",children:"Загрузка..."})]})]}),children:(0,b.jsx)(k,{})})}a.s(["default",()=>l])}];

//# sourceMappingURL=Documents_programming_pixel-space-vpn_aca3c1ce._.js.map