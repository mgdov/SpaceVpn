module.exports=[2472,a=>{"use strict";let b=(0,a.i(4901).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],2472)},85642,a=>{"use strict";let b=(0,a.i(4901).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],85642)},19480,a=>{"use strict";let b="/api/v1";function c(a,b){if(!b)return a;let c=new URLSearchParams;Object.entries(b).forEach(([a,b])=>{null!=b&&c.append(a,String(b))});let d=c.toString();return d?`${a}?${d}`:a}function d(a){}function e(a){}async function f(a,c={}){let d="undefined"!=typeof FormData&&c.body instanceof FormData,e=new Headers(c.headers||{});e.has("Accept")||e.set("Accept","application/json");let g=void 0!==c.body&&null!==c.body&&""!==c.body;d||!g||e.has("Content-Type")||e.set("Content-Type","application/json");try{let d=await fetch(function(a){let c=b.endsWith("/")?b.slice(0,-1):b;if(!a||"/"===a)return`${c}/`;let d=a.startsWith("/")?a:`/${a}`;return`${c}${d}`}(a),{...c,headers:e}),f=d.status,g=await d.text(),h=g?function(a){try{return JSON.parse(a)}catch{return a}}(g):void 0;if(!d.ok){if(422===f&&Array.isArray(h?.detail))return{error:h.detail.map(a=>`${a.loc?.join(" → ")||"Field"}: ${a.msg}`).join(", "),status:f};let a=h?.detail||h?.message||(Array.isArray(h?.errors)?h?.errors.join(", "):void 0);return{error:"string"==typeof a?a:`HTTP ${f}`,status:f}}return{data:h,status:f}}catch(a){return{error:a instanceof Error?a.message:"Network error"}}}async function g(a,b){let c=new URLSearchParams;c.append("username",a),c.append("password",b);let e=await f("/auth/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c.toString()});return e.data?.access_token&&d(e.data.access_token),e}async function h(){return f("/auth/oauth-providers")}async function i(){return f("/auth/google")}async function j(){return f("/auth/telegram")}async function k(a){let b=await f("/auth/telegram/callback",{method:"POST",body:JSON.stringify(a)});return b.data?.access_token&&d(b.data.access_token),b}async function l(){let a=await f("/users/me");return a.data&&e(a.data),a}async function m(a){return f(c("/admin/users/",a))}async function n(){return f("/admin/subscriptions/")}async function o(){return f("/tariffs/")}async function p(){return f("/admin/tariffs/")}async function q(a){return f("/admin/tariffs/",{method:"POST",body:JSON.stringify(a)})}async function r(a,b){return f(`/admin/tariffs/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async function s(a){return f(`/admin/tariffs/${a}`,{method:"DELETE"})}async function t(a){return f(`/admin/tariffs/${a}/toggle`,{method:"POST"})}async function u(a){return f("/subscriptions/purchase-free",{method:"POST",body:JSON.stringify(a)})}async function v(){return f("/vpn-clients")}async function w(a){return f(`/vpn-clients/${a}/config`)}async function x(){return f("/vpn-clients/bypass-presets")}async function y(){return f("/admin/vpn/clients/")}async function z(a){return f("/admin/vpn/clients/",{method:"POST",body:JSON.stringify(a)})}async function A(a,b){return f(`/admin/vpn/clients/${a}`,{method:"PUT",body:JSON.stringify(b)})}async function B(a){return f(`/admin/vpn/clients/${a}`,{method:"DELETE"})}async function C(a,b){return f(`/admin/vpn/clients/${a}/extend`,{method:"POST",body:b?JSON.stringify(b):void 0})}async function D(a){return f(`/admin/vpn/clients/${a}/toggle`,{method:"POST"})}async function E(){return f("/public/tariffs")}async function F(a){return f("/public/key/search",{method:"POST",body:JSON.stringify({key_identifier:a})})}async function G(a){return f("/public/key/create",{method:"POST",body:JSON.stringify(a)})}async function H(a){return f("/public/key/renew",{method:"POST",body:JSON.stringify(a)})}async function I(){return f("/admin/finance/stats")}async function J(a){return f(`/admin/finance/chart/${a}`)}async function K(a){return f(c("/admin/finance/payments",a))}a.s(["adminCreateTariff",()=>q,"adminCreateVPNClient",()=>z,"adminDeleteTariff",()=>s,"adminDeleteVPNClient",()=>B,"adminExtendVPNClient",()=>C,"adminListSubscriptions",()=>n,"adminListTariffs",()=>p,"adminListUsers",()=>m,"adminListVPNClients",()=>y,"adminToggleTariff",()=>t,"adminToggleVPNClient",()=>D,"adminUpdateTariff",()=>r,"adminUpdateVPNClient",()=>A,"createKeyPublic",()=>G,"getAdminFinanceChart",()=>J,"getAdminFinanceStats",()=>I,"getAdminPayments",()=>K,"getBypassPresets",()=>x,"getCurrentUserInfo",()=>l,"getGoogleAuthUrl",()=>i,"getOAuthProviders",()=>h,"getPublicTariffs",()=>o,"getPublicTariffsNoAuth",()=>E,"getTelegramAuthInfo",()=>j,"getUserVPNClientConfig",()=>w,"listUserVPNClients",()=>v,"loginUser",()=>g,"purchaseFreeTariff",()=>u,"renewKeyPublic",()=>H,"searchKeyPublic",()=>F,"setAuthToken",()=>d,"setCurrentUser",()=>e,"telegramAuthCallback",()=>k])},39234,a=>{"use strict";var b=a.i(50776),c=a.i(95111);function d(){return(0,b.jsx)("footer",{className:"bg-card border-t border-border mt-20",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-primary flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-background text-xs",children:"S"})}),(0,b.jsx)("span",{className:"text-primary text-xs",children:"SPACE VPN"})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-[8px] leading-relaxed max-w-md",children:"Защитите свою приватность в интернете с помощью нашего VPN сервиса. Быстрое и надежное соединение по всему миру."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-foreground text-[10px] mb-4",children:"Навигация"}),(0,b.jsxs)("nav",{className:"flex flex-col gap-2",children:[(0,b.jsx)(c.default,{href:"/",className:"text-muted-foreground hover:text-primary text-[8px]",children:"Главная"}),(0,b.jsx)(c.default,{href:"/pricing",className:"text-muted-foreground hover:text-primary text-[8px]",children:"Тарифы"}),(0,b.jsx)(c.default,{href:"/blog",className:"text-muted-foreground hover:text-primary text-[8px]",children:"Блог"}),(0,b.jsx)(c.default,{href:"/faq",className:"text-muted-foreground hover:text-primary text-[8px]",children:"FAQ"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-foreground text-[10px] mb-4",children:"Контакты"}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 text-[8px] text-muted-foreground",children:[(0,b.jsx)("span",{children:"support@spacevpn.com"}),(0,b.jsx)("span",{children:"Telegram: @spacevpn"})]})]})]}),(0,b.jsx)("div",{className:"border-t border-border mt-8 pt-8 text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground text-[8px]",children:"© 2025 Space VPN. Все права защищены."})})]})})}a.s(["Footer",()=>d])},6630,a=>{"use strict";let b=(0,a.i(4901).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],6630)},82126,a=>{"use strict";let b=(0,a.i(4901).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],82126)},87472,a=>{"use strict";let b=(0,a.i(4901).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],87472)},85738,a=>{"use strict";let b=(0,a.i(4901).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],85738)},83276,a=>{"use strict";var b=a.i(50776),c=a.i(89056),d=a.i(95111),e=a.i(21925),f=a.i(39234),g=a.i(72261),h=a.i(87472),i=a.i(6630);let j=(0,a.i(4901).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var k=a.i(82126),l=a.i(85642),m=a.i(85738),n=a.i(2472),o=a.i(19480);function p(){let[a,p]=(0,c.useState)("search"),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(!1),I=async()=>{if(!q.trim())return void F("Введите идентификатор ключа");z(!0),F(""),t(null);let a=await (0,o.searchKeyPublic)(q.trim());a.data?.found?(t(a.data),await J(),p("select-tariff")):a.data&&!a.data.found?F("Ключ не найден. Проверьте идентификатор и попробуйте снова."):F(a.error||"Ошибка поиска"),z(!1)},J=async()=>{B(!0);let a=await (0,o.getPublicTariffsNoAuth)();a.data?.tariffs&&v(a.data.tariffs),B(!1)},K=async a=>{D(!0),F("");let b=await (0,o.renewKeyPublic)({key_identifier:q,tariff_id:a});b.data?.success?(x(b.data),p("success")):F(b.error||"Ошибка продления"),D(!1)},L=async a=>{await navigator.clipboard.writeText(a),H(!0),setTimeout(()=>H(!1),2e3)},M=a=>new Date(a).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return"success"===a&&w?(0,b.jsxs)("div",{className:"min-h-screen bg-background relative",children:[(0,b.jsx)(g.PixelStars,{}),(0,b.jsx)(e.Header,{}),(0,b.jsx)("main",{className:"relative z-10 px-4 pt-24 pb-20",children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,b.jsxs)("div",{className:"bg-card border-2 border-green-500 p-8 space-y-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(k.CheckCircle2,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Ключ продлён!"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:w.message})]}),(0,b.jsxs)("div",{className:"bg-primary/10 border border-primary p-4 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Ваш ключ:"}),(0,b.jsx)("p",{className:"text-3xl font-mono font-bold text-primary",children:w.key_id}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Новая дата истечения: ",M(w.new_expires_at)]})]}),w.subscription_url&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"VLESS ссылка:"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("code",{className:"block bg-muted p-4 text-xs break-all rounded",children:w.subscription_url}),(0,b.jsx)("button",{onClick:()=>L(w.subscription_url),className:"absolute top-2 right-2 p-2 bg-primary hover:bg-primary/90 text-primary-foreground rounded",children:G?(0,b.jsx)(k.CheckCircle2,{size:16}):(0,b.jsx)(n.Copy,{size:16})})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsx)(d.default,{href:"/",className:"block text-center bg-primary text-primary-foreground py-3 font-semibold hover:bg-primary/90",children:"На главную"}),(0,b.jsx)("button",{onClick:()=>{p("search"),r(""),t(null),x(null)},className:"text-muted-foreground hover:text-primary text-sm",children:"Продлить другой ключ"})]})]})})}),(0,b.jsx)(f.Footer,{})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-background relative",children:[(0,b.jsx)(g.PixelStars,{}),(0,b.jsx)(e.Header,{}),(0,b.jsx)("main",{className:"relative z-10 px-4 pt-24 pb-20",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsxs)(d.default,{href:"/buy-no-register",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-primary text-sm mb-8",children:[(0,b.jsx)(h.ArrowLeft,{size:16}),"Назад"]}),(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Продлить ключ"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Введите идентификатор ключа или VLESS ссылку"})]}),E&&(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500 p-4 mb-6 flex items-center gap-3",children:[(0,b.jsx)(m.AlertCircle,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),(0,b.jsx)("p",{className:"text-red-400 text-sm",children:E})]}),"search"===a&&(0,b.jsx)("div",{className:"bg-card border-2 border-border p-6 space-y-6",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-foreground mb-2",children:"Идентификатор ключа"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("input",{type:"text",value:q,onChange:a=>r(a.target.value),onKeyDown:a=>{"Enter"===a.key&&I()},placeholder:"TJWMW или vless://...",className:"flex-1 bg-background border border-border px-4 py-3 text-foreground placeholder:text-muted-foreground focus:outline-none focus:border-primary"}),(0,b.jsxs)("button",{onClick:I,disabled:y,className:"bg-primary text-primary-foreground px-6 py-3 font-semibold hover:bg-primary/90 disabled:opacity-50 flex items-center gap-2",children:[y?(0,b.jsx)(i.Loader2,{size:18,className:"animate-spin"}):(0,b.jsx)(j,{size:18}),"Найти"]})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs mt-2",children:"Введите 5-буквенный код ключа (например TJWMW) или полную VLESS ссылку"})]})}),"select-tariff"===a&&s&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:`bg-card border-2 p-6 ${s.is_expired?"border-red-500":"border-green-500"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Найден ключ:"}),(0,b.jsx)("p",{className:"text-2xl font-mono font-bold text-primary",children:s.key_id})]}),(0,b.jsx)("span",{className:`px-3 py-1 text-xs font-semibold ${s.is_expired?"bg-red-500/20 text-red-500 border border-red-500":"bg-green-500/20 text-green-500 border border-green-500"}`,children:s.is_expired?"Истёк":"Активен"})]}),s.expires_at&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[(0,b.jsx)(l.Clock,{size:14}),(0,b.jsxs)("span",{children:[s.is_expired?"Истёк: ":"Истекает: ",M(s.expires_at)]}),s.time_remaining&&!s.is_expired&&(0,b.jsxs)("span",{className:"text-primary",children:["(",s.time_remaining,")"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Выберите тариф для продления:"}),A?(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)(i.Loader2,{className:"w-6 h-6 animate-spin text-primary mx-auto"})}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:u.map(a=>(0,b.jsxs)("button",{onClick:()=>K(a.id),disabled:C||a.price>0,className:`p-4 border-2 text-left transition-all disabled:opacity-50 ${a.is_featured?"border-primary bg-primary/5 hover:bg-primary/10":"border-border hover:border-primary"}`,children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-foreground",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["+",a.duration_days," дней"]})]}),(0,b.jsx)("span",{className:`font-bold ${0===a.price?"text-green-500":"text-primary"}`,children:0===a.price?"Бесплатно":`${a.price} ₽`})]}),a.price>0&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Скоро"})]},a.id))})]}),(0,b.jsx)("button",{onClick:()=>{p("search"),t(null)},className:"text-muted-foreground hover:text-primary text-sm",children:"← Искать другой ключ"})]})]})}),(0,b.jsx)(f.Footer,{})]})}a.s(["default",()=>p],83276)}];

//# sourceMappingURL=Documents_programming_pixel-space-vpn_bcfc5214._.js.map